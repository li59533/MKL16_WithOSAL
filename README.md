# MKL16_WithOSAL
单片机MKL16 ，使用官方库的工程框架，框架核心是OSAL


# 1.目录说明
目录包换：
* app -> 应用
* bsp -> 板级支持包
* components -> 芯片组件
* fml -> 功能组件
* mdl ->中间件
* task -> 任务
* utilities -> 标准工具

## 1.1 app（应用）
此目录包换文件：**main** 和** 用户应用代码**。
_main.c放在这里是出于无奈，不知道算什么类别。所以由最初写代码的应用代码都在这个main中，索性放置于此。_

## 1.2 bsp（板级支持包）
此目录放置**外设驱动**文件，切勿将项目逻辑代码写入bsp。**MCU外设BSP**封装寄存器或者官方库，为应用层提供标准调用接口。

## 1.3 components（芯片组件）
此目录包含**芯片**相关文件，例如_启动文件、官方库、芯片寄存器头文件等_。

## 1.4 fml（功能组件）mdl（中间件）
fml与mdl功能类似，但级别不同。
mdl包含OS相关文件，例如**OSAL、FreeRTOS**等。
fml包含具体功能组件，例如modbus、protocol组包、cjson、version。这种与底层关联性较小的文件。
## 1.5 task（任务）
此目录包换任务文件。

## 1.6 utilities（标准工具）
次目录包含工具类文件，例如crc校验等。

# 2.工程说明
## 2.1 segger_RTT 说明
工程包含segger_RTT文件。
用户可#include“**clog.h**”文件，用过**DEBUG(arg...)**函数完成日志打印。
_注：当前工程上电会打印时钟信息和flash信息，以及两个任务运行信息。**用户可观察，判断工程是否运行正常**_

## 2.2 OSAL说明
osal无任务抢占，基于裸机的代码。所以当一个任务暴毙时，即程序暴毙。
用户可通过**点灯**或者**打印日志**的方式，感受和学习osal的使用。